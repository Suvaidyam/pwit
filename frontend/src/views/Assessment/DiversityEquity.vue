<template>
    <div class="pt-2 w-full ">
        <div class="w-full pt-1">
            <div class="relative inline-block text-buttom w-full">
                <details class=" w-full" open>
                    <summary
                        class="flex w-full justify-between items-center rounded-md px-4 py-3 bg-[#e9eaec] text-h5  font-bold font-primary text-pbase "
                        aria-expanded="true">
                        Introduction
                        <svg width="10" height="5" viewBox="0 0 10 5" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.833252 0.333008L4.99992 4.49967L9.16658 0.333008H0.833252Z" fill="#1E1E1E" />
                        </svg>
                    </summary>
                    <div class="absolute mt-2 w-full bg- h-auto pb-3 ">
                        <div class="py-1" role="menu" aria-orientation="vertical">
                            <div class="w-full pt-4 flex gap-4">
                                <div class="w-7 h-7 min-w-7 rounded-full bg-gray-200 flex justify-center items-center">
                                    <svg width="14" height="16" viewBox="0 0 14 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M1.129 1.379C0.25 2.25725 0.25 3.67175 0.25 6.5V9.5C0.25 12.3282 0.25 13.7427 1.129 14.621C2.008 15.4992 3.42175 15.5 6.25 15.5H7.75C10.5782 15.5 11.9927 15.5 12.871 14.621C13.7357 13.757 13.75 12.374 13.75 9.635L11.6365 11.7485C11.434 11.951 11.2682 12.1167 11.0815 12.263C10.8625 12.4346 10.625 12.5812 10.3735 12.7003C10.1433 12.8038 9.90687 12.8927 9.6655 12.9665L7.9315 13.5448C7.65624 13.6365 7.36085 13.6499 7.07844 13.5832C6.79603 13.5166 6.53776 13.3726 6.33258 13.1674C6.1274 12.9622 5.98342 12.704 5.91678 12.4216C5.85013 12.1392 5.86345 11.8438 5.95525 11.5685L6.16075 10.9535L6.517 9.884L6.53275 9.8345C6.6235 9.563 6.69775 9.341 6.79975 9.1265C6.91975 8.8745 7.0655 8.63875 7.237 8.41925C7.38325 8.23175 7.549 8.06675 7.7515 7.86425L10.756 4.859L11.59 4.025L11.6852 3.92975C11.9401 3.67412 12.243 3.47141 12.5765 3.3333C12.91 3.19519 13.2675 3.12439 13.6285 3.125C13.5152 2.3525 13.2955 1.80275 12.871 1.379C11.9927 0.5 10.5782 0.5 7.75 0.5H6.25C3.42175 0.5 2.00725 0.5 1.129 1.379ZM3.4375 5.75C3.4375 5.60082 3.49676 5.45774 3.60225 5.35225C3.70774 5.24676 3.85082 5.1875 4 5.1875H8.875C9.02418 5.1875 9.16726 5.24676 9.27275 5.35225C9.37824 5.45774 9.4375 5.60082 9.4375 5.75C9.4375 5.89918 9.37824 6.04226 9.27275 6.14775C9.16726 6.25324 9.02418 6.3125 8.875 6.3125H4C3.85082 6.3125 3.70774 6.25324 3.60225 6.14775C3.49676 6.04226 3.4375 5.89918 3.4375 5.75ZM3.4375 8.75C3.4375 8.60082 3.49676 8.45774 3.60225 8.35225C3.70774 8.24676 3.85082 8.1875 4 8.1875H5.875C6.02418 8.1875 6.16726 8.24676 6.27275 8.35225C6.37824 8.45774 6.4375 8.60082 6.4375 8.75C6.4375 8.89918 6.37824 9.04226 6.27275 9.14775C6.16726 9.25324 6.02418 9.3125 5.875 9.3125H4C3.85082 9.3125 3.70774 9.25324 3.60225 9.14775C3.49676 9.04226 3.4375 8.89918 3.4375 8.75ZM3.4375 11.75C3.4375 11.6008 3.49676 11.4577 3.60225 11.3523C3.70774 11.2468 3.85082 11.1875 4 11.1875H5.125C5.27418 11.1875 5.41726 11.2468 5.52275 11.3523C5.62824 11.4577 5.6875 11.6008 5.6875 11.75C5.6875 11.8992 5.62824 12.0423 5.52275 12.1477C5.41726 12.2532 5.27418 12.3125 5.125 12.3125H4C3.85082 12.3125 3.70774 12.2532 3.60225 12.1477C3.49676 12.0423 3.4375 11.8992 3.4375 11.75Z"
                                            fill="#27853F" />
                                    </svg>
                                </div>
                                <div class=" ">
                                    <h1 class="flex gap-3  text-h5 text-sebase font-bold font-primary pb-2"> What is
                                        DEI?
                                    </h1>
                                    <p class="text-justify text-sm text-trbase font-normal">
                                        Diversity, equity, and inclusion are closely linked values embraced by many
                                        organisations striving to support diverse groups of
                                        individuals, entities or organisations, encompassing various races, ethnicities,
                                        religions, abilities, genders, and sexual orientations.
                                    </p>
                                    <div class="text-justify text-sm text-trbase font-normal pt-2">
                                        <span class="font-bold">Diversity</span> refers to the intentional variety
                                        within a specific collection of
                                        people that takes into account intersectional elements of
                                        human difference, identity, and lived experience. <span
                                            class="font-bold">Equity</span> is the achievement and
                                        maintenance of just outcomes for all people within
                                        an organisation or within a culture or society. <span
                                            class="font-bold">Inclusion</span> is a process that
                                        gives all people – especially communities that have been
                                        systematically excluded or prevented from having a say in the structures of
                                        power – full and meaningful participation in planning
                                        and decision making at all levels within a group, organisation, movement, or
                                        society.
                                        <Popper :arrow="true" :zIndex="20" :offsetDistance="4" placement="bottom-start">
                                                <InfoIcon class="w-4 h-[14px] cursor-pointer leading-none" />
                                            <template #content>
                                                <div class="border-2 shadow-lg rounded-md bg-white p-3 py-2">
                                                    <a href="https://www.opensocietyfoundations.org/publications/advancing-diversity-equity-and-inclusion-in-grant-making"
                                                        class="text-sm ">
                                                        “ <span class="text-blue-600">Advancing Diversity, Equity and
                                                            inclusion in Grantmaking.</span>”
                                                    </a>
                                                    <p class="text-sm text-gray-900">Open Society Foundations (OSF), July
                                                        2021</p>
                                                </div>
                                            </template>
                                        </Popper>
                                    </div>
                                    <div class="flex flex-col gap-1 pr-4 md:pr-0">
                                        <img src="../../assets/DEI.png" class="pt-5 w-full" alt="">
                                        <div>
                                            <p class="text-sm text-trbase"><span class="font-bold text-secondary">Note:</span> This framework can help you
                                                understand the internal and external aspects of embedding DEI
                                                within your institution.</p>
                                            <p class="text-sm text-trbase pt-2">The objective of this section of the
                                                tool is to help funders
                                                assess how inclusive their current grantmaking processes are;
                                                hence, the
                                                tool primarily focuses on embedding DEI within the grantmaking
                                                process. We only touch upon the elements marked in <span
                                                    class="text-orange-400">orange</span> on
                                                the below graphic.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class=" w-full pt-8 flex gap-4">
                                <div class="w-7 h-7 min-w-7 rounded-full bg-gray-200 flex justify-center items-center">
                                    <svg width="14" height="16" viewBox="0 0 14 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M1.129 1.379C0.25 2.25725 0.25 3.67175 0.25 6.5V9.5C0.25 12.3282 0.25 13.7427 1.129 14.621C2.008 15.4992 3.42175 15.5 6.25 15.5H7.75C10.5782 15.5 11.9927 15.5 12.871 14.621C13.7357 13.757 13.75 12.374 13.75 9.635L11.6365 11.7485C11.434 11.951 11.2682 12.1167 11.0815 12.263C10.8625 12.4346 10.625 12.5812 10.3735 12.7003C10.1433 12.8038 9.90687 12.8927 9.6655 12.9665L7.9315 13.5448C7.65624 13.6365 7.36085 13.6499 7.07844 13.5832C6.79603 13.5166 6.53776 13.3726 6.33258 13.1674C6.1274 12.9622 5.98342 12.704 5.91678 12.4216C5.85013 12.1392 5.86345 11.8438 5.95525 11.5685L6.16075 10.9535L6.517 9.884L6.53275 9.8345C6.6235 9.563 6.69775 9.341 6.79975 9.1265C6.91975 8.8745 7.0655 8.63875 7.237 8.41925C7.38325 8.23175 7.549 8.06675 7.7515 7.86425L10.756 4.859L11.59 4.025L11.6852 3.92975C11.9401 3.67412 12.243 3.47141 12.5765 3.3333C12.91 3.19519 13.2675 3.12439 13.6285 3.125C13.5152 2.3525 13.2955 1.80275 12.871 1.379C11.9927 0.5 10.5782 0.5 7.75 0.5H6.25C3.42175 0.5 2.00725 0.5 1.129 1.379ZM3.4375 5.75C3.4375 5.60082 3.49676 5.45774 3.60225 5.35225C3.70774 5.24676 3.85082 5.1875 4 5.1875H8.875C9.02418 5.1875 9.16726 5.24676 9.27275 5.35225C9.37824 5.45774 9.4375 5.60082 9.4375 5.75C9.4375 5.89918 9.37824 6.04226 9.27275 6.14775C9.16726 6.25324 9.02418 6.3125 8.875 6.3125H4C3.85082 6.3125 3.70774 6.25324 3.60225 6.14775C3.49676 6.04226 3.4375 5.89918 3.4375 5.75ZM3.4375 8.75C3.4375 8.60082 3.49676 8.45774 3.60225 8.35225C3.70774 8.24676 3.85082 8.1875 4 8.1875H5.875C6.02418 8.1875 6.16726 8.24676 6.27275 8.35225C6.37824 8.45774 6.4375 8.60082 6.4375 8.75C6.4375 8.89918 6.37824 9.04226 6.27275 9.14775C6.16726 9.25324 6.02418 9.3125 5.875 9.3125H4C3.85082 9.3125 3.70774 9.25324 3.60225 9.14775C3.49676 9.04226 3.4375 8.89918 3.4375 8.75ZM3.4375 11.75C3.4375 11.6008 3.49676 11.4577 3.60225 11.3523C3.70774 11.2468 3.85082 11.1875 4 11.1875H5.125C5.27418 11.1875 5.41726 11.2468 5.52275 11.3523C5.62824 11.4577 5.6875 11.6008 5.6875 11.75C5.6875 11.8992 5.62824 12.0423 5.52275 12.1477C5.41726 12.2532 5.27418 12.3125 5.125 12.3125H4C3.85082 12.3125 3.70774 12.2532 3.60225 12.1477C3.49676 12.0423 3.4375 11.8992 3.4375 11.75Z"
                                            fill="#27853F" />
                                    </svg>
                                </div>
                                <div class=" ">
                                    <div class="flex gap-3  text-h5 text-sebase font-bold font-primary pb-2"> Why is DEI
                                        important for funders?
                                        <Popper :arrow="true" :zIndex="20" :offsetDistance="0" placement="bottom-start">
                                            <button>
                                                <InfoIcon class="w-5 text-slate-400" />
                                            </button>
                                            <template #content>
                                                <div class="border-2 shadow-lg rounded-md bg-white p-3 py-2">
                                                    <p class="text-sm font-medium text-gray-900">Whilst the self-assessment tool
                                                        focuses on grantmaking, it is important to look inward at how
                                                        your organisation
                                                        would benefit from a commitment to DEI in order to address
                                                        systemic exclusion and inequities. Understanding ways to embed
                                                        DEI
                                                        in internal culture, systems, and practices requires deeper
                                                        reflection and work. Some resources on enhancing institutional
                                                        DEI can
                                                        be found here</p>
                                                </div>
                                            </template>
                                        </Popper>
                                    </div>
                                    <p class="text-justify text-sm text-trbase font-normal">
                                        For funders, DEI calls attention to marginalised individuals and communities and
                                        promotes fair and impartial
                                        grantmaking practices.
                                        As the fifth PWIT principle, a DEI perspective also influences how you implement
                                        the other four – multiyear
                                        partnerships, core cost
                                        support, organisational development, and financial resilience – to make your
                                        grantmaking accessible to a
                                        wider range of nonprofits.
                                        The tool provides directional guidance on how funders can embrace DEI practices
                                        that pursue equity and
                                        inclusiveness for grantees
                                        and the people they serve. The questions in the tool will help you reflect on
                                        two lenses:
                                    </p>
                                    <ul class="px-6">
                                        <li class="text-sm text-trbase list-disc">Do your funding practices make it
                                            easier for a more diverse set of
                                            nonprofits to thrive in their ecosystem?</li>
                                        <li class="text-sm text-trbase list-disc">Do your organisation’s grants focus on
                                            underserved communities?
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class=" w-full pt-8 flex gap-4">
                                <div class="w-7 h-7 min-w-7 rounded-full bg-gray-200 flex justify-center items-center">
                                    <svg width="14" height="16" viewBox="0 0 14 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M1.129 1.379C0.25 2.25725 0.25 3.67175 0.25 6.5V9.5C0.25 12.3282 0.25 13.7427 1.129 14.621C2.008 15.4992 3.42175 15.5 6.25 15.5H7.75C10.5782 15.5 11.9927 15.5 12.871 14.621C13.7357 13.757 13.75 12.374 13.75 9.635L11.6365 11.7485C11.434 11.951 11.2682 12.1167 11.0815 12.263C10.8625 12.4346 10.625 12.5812 10.3735 12.7003C10.1433 12.8038 9.90687 12.8927 9.6655 12.9665L7.9315 13.5448C7.65624 13.6365 7.36085 13.6499 7.07844 13.5832C6.79603 13.5166 6.53776 13.3726 6.33258 13.1674C6.1274 12.9622 5.98342 12.704 5.91678 12.4216C5.85013 12.1392 5.86345 11.8438 5.95525 11.5685L6.16075 10.9535L6.517 9.884L6.53275 9.8345C6.6235 9.563 6.69775 9.341 6.79975 9.1265C6.91975 8.8745 7.0655 8.63875 7.237 8.41925C7.38325 8.23175 7.549 8.06675 7.7515 7.86425L10.756 4.859L11.59 4.025L11.6852 3.92975C11.9401 3.67412 12.243 3.47141 12.5765 3.3333C12.91 3.19519 13.2675 3.12439 13.6285 3.125C13.5152 2.3525 13.2955 1.80275 12.871 1.379C11.9927 0.5 10.5782 0.5 7.75 0.5H6.25C3.42175 0.5 2.00725 0.5 1.129 1.379ZM3.4375 5.75C3.4375 5.60082 3.49676 5.45774 3.60225 5.35225C3.70774 5.24676 3.85082 5.1875 4 5.1875H8.875C9.02418 5.1875 9.16726 5.24676 9.27275 5.35225C9.37824 5.45774 9.4375 5.60082 9.4375 5.75C9.4375 5.89918 9.37824 6.04226 9.27275 6.14775C9.16726 6.25324 9.02418 6.3125 8.875 6.3125H4C3.85082 6.3125 3.70774 6.25324 3.60225 6.14775C3.49676 6.04226 3.4375 5.89918 3.4375 5.75ZM3.4375 8.75C3.4375 8.60082 3.49676 8.45774 3.60225 8.35225C3.70774 8.24676 3.85082 8.1875 4 8.1875H5.875C6.02418 8.1875 6.16726 8.24676 6.27275 8.35225C6.37824 8.45774 6.4375 8.60082 6.4375 8.75C6.4375 8.89918 6.37824 9.04226 6.27275 9.14775C6.16726 9.25324 6.02418 9.3125 5.875 9.3125H4C3.85082 9.3125 3.70774 9.25324 3.60225 9.14775C3.49676 9.04226 3.4375 8.89918 3.4375 8.75ZM3.4375 11.75C3.4375 11.6008 3.49676 11.4577 3.60225 11.3523C3.70774 11.2468 3.85082 11.1875 4 11.1875H5.125C5.27418 11.1875 5.41726 11.2468 5.52275 11.3523C5.62824 11.4577 5.6875 11.6008 5.6875 11.75C5.6875 11.8992 5.62824 12.0423 5.52275 12.1477C5.41726 12.2532 5.27418 12.3125 5.125 12.3125H4C3.85082 12.3125 3.70774 12.2532 3.60225 12.1477C3.49676 12.0423 3.4375 11.8992 3.4375 11.75Z"
                                            fill="#27853F" />
                                    </svg>
                                </div>
                                <div class=" ">
                                    <h1 class="flex gap-3  text-h5 text-sebase font-bold font-primary pb-2"> How to use
                                        this tool?
                                        <!-- <Pophover :content="'hii'" /> -->
                                    </h1>
                                    <p class="text-justify text-sm text-trbase font-normal">
                                        The DEI Assistive Guide questions touch on 10 practices ranging from sourcing
                                        and diligence in choosing
                                        grantees to grant reporting
                                        and renewal. At the end, the tool generates a scorecard that shows how your DEI
                                        efforts rank on each of the
                                        10 practices. We then
                                        provide practical recommendations for improving your approach to each practice.
                                        For each question, we ask
                                        you to select the
                                        statement or statements that largely describe your organisation’s current
                                        practices, if any
                                    </p>
                                </div>
                            </div>
                            <div class="pt-10 flex justify-end w-full">
                                <button @click="is_dei_ass"
                                    class="bg-secondary text-white text-h5 py-2.5 px-10 rounded-md">
                                    {{ Object.keys(initialData).length ? `Continue the Assessment` : `Start the
                                    Assessment`}} </button>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
        </div>
    </div>
</template>

<script setup>
import { inject, onMounted, ref } from 'vue'
import { InfoIcon } from 'lucide-vue-next'
import Popper from "vue3-popper";

const store = inject('store')
const auth = inject('$auth')
const call = inject('$call')
const initialData = ref({})

const is_dei_ass = () => {
    store.is_dei_ass = true
}
const get_save_as_draft = async () => {
    try {
        let res = await call('pwit.controllers.api.get_save_as_draft', { doctype: 'Diversity Equity Inclusion', user: auth.cookie.user_id });
        if (res.code === 200) {
            initialData.value = res?.data ?? {};
        }
    } catch (error) {

    }
}
onMounted(() => {
    get_save_as_draft()
})
</script>
